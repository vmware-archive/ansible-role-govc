---
molecule:
  test:
    sequence:
      - destroy
      - syntax
      - create
      - converge
      - idempotence
      - verify
dependency:
  name: galaxy
ansible:
  verbose: False
  playbook: "${MOLECULE_PLAYBOOK}"
  raw_env_vars:
    ANSIBLE_ROLES_PATH: .molecule/roles/:.molecule/../roles/:../:../../:../../../
driver:
  name: docker
docker:
  containers:
    - name: photon
      image: photon
      image_version: latest
      dockerfile: tests/dockerfiles/photon-latest
      privileged: true
      volume_mounts:
        - '/sys/fs/cgroup:/sys/fs/cgroup:ro'

    - name: centos-7
      image: centos
      image_version: '7'
      command: /usr/lib/systemd/systemd

    - name: fedora-24
      image: fedora
      image_version: '24'
      command: /lib/systemd/systemd

    - name: opensuse-42
      image: opensuse
      image_version: '42.2'
      command: /usr/lib/systemd/systemd

    - name: ubuntu-xenial
      image: ubuntu
      image_version: '16.04'
      command: /lib/systemd/systemd

    - name: ubuntu-trusty
      image: ubuntu
      image_version: '14.04'
      command: /sbin/init

    - name: ubuntu-precise
      image: ubuntu
      image_version: '12.04'
      command: /sbin/init

#    - name: centos7
#      image: ansible/ansible
#      image_version: centos7
#      command: /usr/lib/systemd/systemd
#    - name: fedora24
#      image: "ansible/ansible"
#      image_version: fedora24
#      command: /lib/systemd/systemd
#    - name: opensuse42
#      image: "ansible/ansible"
#      image_version: opensuse42.2
#      command: /usr/lib/systemd/systemd
#    - name: ubuntu1604
#      image: "ansible/ansible"
#      image_version: ubuntu1604
#      command: /lib/systemd/systemd
#    - name: ubuntu1404
#      image: "ansible/ansible"
#      image_version: ubuntu1404
#      command: /sbin/init
#    - name: ubuntu1204
#      image: "ansible/ansible"
#      image_version: ubuntu1204
#      command: /sbin/init

verifier:
  name: testinfra